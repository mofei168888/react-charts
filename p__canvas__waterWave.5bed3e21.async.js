(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{JM2o:function(e,t,i){"use strict";i.r(t);i("giR+");var a=i("fyUT"),r=i("q1tI"),n=i.n(r),s=i("MuoO"),o=i("jehZ"),h=i.n(o);function l(e){var t=parseInt(getComputedStyle(e).height,10),i=parseInt(getComputedStyle(e).paddingTop,10)+parseInt(getComputedStyle(e).paddingBottom,10);return t-i}function p(e){if(!e)return 0;var t=e,i=l(t);while(!i){if(t=t.parentNode,!t)break;i=l(t)}return i}var d,c,v,m,u,f,g=()=>e=>{var t;return t=class extends r["Component"]{constructor(){super(...arguments),this.state={computedHeight:0},this.handleRoot=(e=>{this.root=e})}componentDidMount(){var e=this.props.height;if(!e){var t=p(this.root);this.setState({computedHeight:t})}}render(){var t=this.props.height,i=this.state.computedHeight,a=t||i;return n.a.createElement("div",{ref:this.handleRoot},a>0&&n.a.createElement(e,h()({},this.props,{height:a})))}},t},w=g,C=i("iXxa"),T=i.n(C),W=(d=w(),d((v=class extends r["PureComponent"]{constructor(){super(...arguments),this.state={radio:1},this.resize=(()=>{if(this.root){var e=this.props.height,t=this.root.parentNode.offsetWidth;this.setState({radio:t<e?t/e:1})}}),this.renderChart=(e=>{var t=this.props,i=t.percent,a=t.color,r=void 0===a?"#1890FF":a,n=i/100,s=this;if(cancelAnimationFrame(this.timer),this.node&&(0===n||n)){var o=this.node,h=o.getContext("2d"),l=o.width,p=o.height,d=l/2,c=2,v=d-c;h.beginPath(),h.lineWidth=2*c;for(var m=l-c,u=m/8,f=.2,g=f,w=c,C=0,T=0,W=.005,E=[],M=d-c,F=-Math.PI/2,S=!0,x=F;x<F+2*Math.PI;x+=1/(8*Math.PI))E.push([d+M*Math.cos(x),d+M*Math.sin(x)]);var y=E.shift();h.strokeStyle=r,h.moveTo(y[0],y[1]),P()}function I(){h.beginPath(),h.save();for(var e=[],t=w;t<w+m;t+=20/m){var i=C+(w+t)/u,a=Math.sin(i)*g,n=t,o=2*v*(1-T)+(d-v)-u*a;h.lineTo(n,o),e.push([n,o])}var l=e.shift();h.lineTo(w+m,p),h.lineTo(w,p),h.lineTo(l[0],l[1]);var c=h.createLinearGradient(0,0,0,p);c.addColorStop(0,"#FFF"),c.addColorStop(1,r),h.fillStyle=c,h.fill(),h.restore(),void 0===s.isFinish&&(s.isFinish=!0)}function P(){if(h.clearRect(0,0,l,p),S&&"update"!==e)if(E.length){var t=E.shift();h.lineTo(t[0],t[1]),h.stroke()}else S=!1,h.lineTo(y[0],y[1]),h.stroke(),E=null,h.globalCompositeOperation="destination-over",h.beginPath(),h.lineWidth=c,h.arc(d,d,M,0,2*Math.PI,1),h.beginPath(),h.save(),h.arc(d,d,d-3*c,0,2*Math.PI,1),h.restore(),h.clip(),h.fillStyle=r;else{if(n>=.85){if(g>f/4){var i=.01*f;g-=i}}else if(n<=.1){if(g<1.5*f){var a=.01*f;g+=a}}else{if(g<=f){var o=.01*f;g+=o}if(g>=f){var v=.01*f;g-=v}}n-T>0&&(T+=W),n-T<0&&(T-=W),C+=.07,I()}s.timer=requestAnimationFrame(P)}})}componentDidMount(){this.renderChart(),this.resize(),window.addEventListener("resize",()=>{requestAnimationFrame(()=>this.resize())},{passive:!0})}componentDidUpdate(e){var t=this.props.percent,i=()=>{clearTimeout(this.finishTimer),this.finishTimer=setTimeout(()=>{this.isFinish?this.renderChart("update"):i()},500)};e.percent!==t&&i()}componentWillUnmount(){cancelAnimationFrame(this.timer),this.node&&(this.node.innerHTML=""),window.removeEventListener("resize",this.resize)}render(){var e=this.props,t=e.height,i=e.title,a=e.percent;return n.a.createElement("div",{className:T.a.waterWave,ref:e=>this.root=e,style:{transform:`scale(${this.state.radio})`}},n.a.createElement("div",{style:{width:t,height:t,overflow:"hidden"}},n.a.createElement("canvas",{className:T.a.waterWaveCanvasWrapper,ref:e=>this.node=e,width:2*t,height:2*t})),n.a.createElement("div",{className:T.a.text,style:{width:t}},i&&n.a.createElement("span",null,i),n.a.createElement("h4",null,a,"%")))}},c=v))||c),E=W,M=i("LIIa"),F=(m=Object(s["connect"])(e=>{var t=e.canvas;return t}),m((f=class extends r["PureComponent"]{constructor(){super(...arguments),this.state={percent:40},this.handleChange=(e=>{this.setState({percent:e})})}render(){var e=this.props.description,t=this.state.percent;return n.a.createElement(M["a"],{title:"waterWave",pathtitles:["canvas","waterWave"],description:e},n.a.createElement(E,{title:"water-wave",percent:t,height:200}),n.a.createElement("div",{style:{marginLeft:50,paddingTop:20}},"\u503c\uff1a",n.a.createElement(a["a"],{max:100,min:0,defaultValue:40,onChange:this.handleChange})))}},u=f))||u);t["default"]=F},iXxa:function(e,t,i){e.exports={waterWave:"waterWave___3L9fv",text:"text___p44Qh",waterWaveCanvasWrapper:"waterWaveCanvasWrapper___1SpJb"}}}]);